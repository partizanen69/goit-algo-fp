# Ð—Ð°Ð²Ð´Ð°Ð½Ð½Ñ 5. Ð’Ñ–Ð·ÑƒÐ°Ð»Ñ–Ð·Ð°Ñ†Ñ–Ñ Ð¾Ð±Ñ…Ð¾Ð´Ñƒ Ð±Ñ–Ð½Ð°Ñ€Ð½Ð¾Ð³Ð¾ Ð´ÐµÑ€ÐµÐ²Ð°
# Ð’Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑŽÑ‡Ð¸ ÐºÐ¾Ð´ Ñ–Ð· Ð·Ð°Ð²Ð´Ð°Ð½Ð½Ñ 4 Ð´Ð»Ñ Ð¿Ð¾Ð±ÑƒÐ´Ð¾Ð²Ð¸ Ð±Ñ–Ð½Ð°Ñ€Ð½Ð¾Ð³Ð¾ Ð´ÐµÑ€ÐµÐ²Ð°, Ð½ÐµÐ¾Ð±Ñ…Ñ–Ð´Ð½Ð¾ ÑÑ‚Ð²Ð¾Ñ€Ð¸Ñ‚Ð¸ 
# Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ñƒ Ð½Ð° Python, ÑÐºÐ° Ð²Ñ–Ð·ÑƒÐ°Ð»Ñ–Ð·ÑƒÑ” Ð¾Ð±Ñ…Ð¾Ð´Ð¸ Ð´ÐµÑ€ÐµÐ²Ð°: Ñƒ Ð³Ð»Ð¸Ð±Ð¸Ð½Ñƒ Ñ‚Ð° Ð² ÑˆÐ¸Ñ€Ð¸Ð½Ñƒ.
# Ð’Ð¾Ð½Ð° Ð¿Ð¾Ð²Ð¸Ð½Ð½Ð° Ð²Ñ–Ð´Ð¾Ð±Ñ€Ð°Ð¶Ð°Ñ‚Ð¸ ÐºÐ¾Ð¶ÐµÐ½ ÐºÑ€Ð¾Ðº Ñƒ Ð²ÑƒÐ·Ð»Ð°Ñ… Ð· Ñ€Ñ–Ð·Ð½Ð¸Ð¼Ð¸ ÐºÐ¾Ð»ÑŒÐ¾Ñ€Ð°Ð¼Ð¸, 
# Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑŽÑ‡Ð¸ 16-ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ RGB (Ð¿Ñ€Ð¸ÐºÐ»Ð°Ð´ #1296F0). ÐšÐ¾Ð»ÑŒÐ¾Ñ€Ð¸ Ð²ÑƒÐ·Ð»Ñ–Ð² Ð¼Ð°ÑŽÑ‚ÑŒ Ð·Ð¼Ñ–Ð½ÑŽÐ²Ð°Ñ‚Ð¸ÑÑ
# Ð²Ñ–Ð´ Ñ‚ÐµÐ¼Ð½Ð¸Ñ… Ð´Ð¾ ÑÐ²Ñ–Ñ‚Ð»Ð¸Ñ… Ð²Ñ–Ð´Ñ‚Ñ–Ð½ÐºÑ–Ð², Ð·Ð°Ð»ÐµÐ¶Ð½Ð¾ Ð²Ñ–Ð´ Ð¿Ð¾ÑÐ»Ñ–Ð´Ð¾Ð²Ð½Ð¾ÑÑ‚Ñ– Ð¾Ð±Ñ…Ð¾Ð´Ñƒ. ÐšÐ¾Ð¶ÐµÐ½ Ð²ÑƒÐ·Ð¾Ð» Ð¿Ñ€Ð¸
# Ð¹Ð¾Ð³Ð¾ Ð²Ñ–Ð´Ð²Ñ–Ð´ÑƒÐ²Ð°Ð½Ð½Ñ– Ð¼Ð°Ñ” Ð¾Ñ‚Ñ€Ð¸Ð¼ÑƒÐ²Ð°Ñ‚Ð¸ ÑƒÐ½Ñ–ÐºÐ°Ð»ÑŒÐ½Ð¸Ð¹ ÐºÐ¾Ð»Ñ–Ñ€, ÑÐºÐ¸Ð¹ Ð²Ñ–Ð·ÑƒÐ°Ð»ÑŒÐ½Ð¾ Ð²Ñ–Ð´Ð¾Ð±Ñ€Ð°Ð¶Ð°Ñ” Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº Ð¾Ð±Ñ…Ð¾Ð´Ñƒ.
# ðŸ‘‰ðŸ» ÐŸÑ€Ð¸Ð¼Ñ–Ñ‚ÐºÐ°. Ð’Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ¹Ñ‚Ðµ ÑÑ‚ÐµÐº Ñ‚Ð° Ñ‡ÐµÑ€Ð³Ñƒ, ÐÐ• Ñ€ÐµÐºÑƒÑ€ÑÑ–ÑŽ

from collections import deque
import colorsys
from task4 import arr_to_heap_to_tree, draw_tree, Node
from typing import List

def generate_color(step: int, total_steps: int) -> str:
    hue = 0.6  # Blue hue
    saturation = 0.8
    value = 0.3 + (0.7 * step / total_steps)  # Value goes from 0.3 to 1.0
    rgb = colorsys.hsv_to_rgb(hue, saturation, value)
    return '#{:02x}{:02x}{:02x}'.format(int(rgb[0]*255), int(rgb[1]*255), int(rgb[2]*255))

def bfs_traversal(root: Node | None) -> None:
    if not root:
        return
    
    queue: deque[Node] = deque([root])
    visited: list[Node] = []
    
    while queue:
        node = queue.popleft()
        visited.append(node)
        
        if node.left:
            queue.append(node.left)
        if node.right:
            queue.append(node.right)
            
    for i, node in enumerate(visited):
        node.color = generate_color(i, len(visited))
        
    draw_tree(root)
    
def dfs_traversal(root: Node | None) -> None:
    if not root:
        return
        
    stack = [root]
    visited = []
    
    while stack:
        node = stack.pop()
        visited.append(node)
        
        if node.right:
            stack.append(node.right)
        if node.left:
            stack.append(node.left)
            
    for i, node in enumerate(visited):
        node.color = generate_color(i, len(visited))
        
    draw_tree(root)


if __name__ == "__main__":
    arr: List[int] = [15, 8, 23, 4, 42, 16, 7, 31, 12, 35, 19, 27, 3, 11, 38, 9, 44, 21, 5, 33, 14, 29, 6, 40, 17, 25, 10, 36, 2, 13]
    root_node = arr_to_heap_to_tree(arr)
    
    print("BFS Traversal:")
    bfs_traversal(root_node)
    
    print("\nDFS Traversal:")
    dfs_traversal(root_node)
    
    
    